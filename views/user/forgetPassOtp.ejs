<%- include ('../partials/header') -%>
<body>

        <main class="main">
            <nav aria-label="breadcrumb" class="breadcrumb-nav border-0 mb-0">
                <div class="container">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="/">Home</a></li>
                        <li class="breadcrumb-item"><a href="signin">Sign In</a></li>
                        <li class="breadcrumb-item active"><a href="forgetPass">Forget Password</a></li>
                    </ol>
                </div><!-- End .container -->
            </nav><!-- End .breadcrumb-nav -->

            <div class="login-page bg-image pt-8 pb-8 pt-md-12 pb-md-12 pt-lg-17 pb-lg-17" style="background-color: rgba(203, 203, 203, 0.232);">
            	<div class="container">
            		<div class="form-box">
            			<div class="form-tab">
	            			<ul class="nav nav-pills nav-fill" role="tablist">
							    <li class="nav-item">
							        <a class="nav-link active" id="signin-tab-2" data-toggle="tab" href="#signin-2" role="tab" aria-controls="signin-2" aria-selected="false">Enter the OTP</a>
							    </li>
							</ul>
							<div class="tab-content">
							    <div class="tab-pane fade show active" id="signin-2" role="tabpanel" aria-labelledby="signin-tab-2">
							    	<form action="/resetPassword" method="post">
                                        <div class="form-group">
                                          <input type="hidden" name="email" value="<%=data%>">
                                          <label for="singin-otp-2">OTP *</label>
                                          <div class="d-flex justify-content-center">
                                            Countdown&nbsp:&nbsp <div id="otp-timer">00:00</div>
                                          </div>
                                          <input type="string" class="form-control" id="singin-otp-2" name="otp" required>
                                            <div class="d-flex justify-content-start" id="resend-otp-div" style="display: none;">
                                            Didin't get the OTP &nbsp<a href="/otpresend?id=<%=data%>" class="forgot-link" id="resend-link ">Resend OTP</a>
                                          </div>
                                          <div class="form-choice mt-2">
                                            <div class="row">
                                              <div class="col-sm-12">
                                                <input type="submit" value="Verify" class="btn btn-outline-primary col-sm-12">
                                              </div><!-- End .col-12 -->
                                            </div><!-- End .row -->
                                          </div><!-- End .form-choice --> 
                                        </div><!-- End .form-group -->
                                      </form>
							    </div><!-- .End .tab-pane -->
							</div><!-- End .tab-content -->
						</div><!-- End .form-tab -->
            		</div><!-- End .form-box -->
            	</div><!-- End .container -->
            </div><!-- End .login-page section-bg -->
        </main><!-- End .main -->
        <%- include ('../partials/footer') -%>

        <script>

    function startOTPTimer(duration) {
      const otpTimerElement = document.getElementById("otp-timer");
      const resentElement = document.getElementById("resent");

      let timer = duration;
      let minutes, seconds;

      const intervalId = setInterval(() => {
        minutes = parseInt(timer / 60, 10);
        seconds = parseInt(timer % 60, 10);

        minutes = minutes < 10 ? "0" + minutes : minutes;
        seconds = seconds < 10 ? "0" + seconds : seconds;

        otpTimerElement.textContent = minutes + ":" + seconds;

        if (--timer < 0) {
          clearInterval(intervalId);
          otpTimerElement.textContent = "Expired";
          document.getElementById('otp-timer').style.display= "none"
        //   otpTimerElement.style.display = "none";
            resentElement.style.display = "block";
        }
      }, 1000);
    }

    // Usage example
    const otpDuration = 30; // OTP duration in seconds
    startOTPTimer(otpDuration);

          </script>
         
          
          
          
          